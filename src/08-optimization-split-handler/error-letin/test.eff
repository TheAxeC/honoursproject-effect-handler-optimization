"----------------------------------------------------------------";;
"Declarations of the effect and handler";;

effect EffectExample : unit -> int

effect EffectExampleOther : unit -> int

;;

let handlerExample = handler
    | #EffectExample () k -> k 2 + k 2
    | #EffectExampleOther () k -> k 2 + k 2
    
;;

"----------------------------------------------------------------";;
"Tests";;

let a = with handlerExample handle (
    let e = #EffectExample () in
    e + 1 + #EffectExample ()
)
;;
